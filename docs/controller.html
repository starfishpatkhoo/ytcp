<html>
	<body>
		<style>
			body {
				font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
				margin: 0;
				color: #e1e1e1;
				background: #1b1b1b;
			}
			.row {
				text-align: center;
				padding-top: 1em;
				padding-left: 10%;
				padding-right: 10%;
			}
			.row .row {
				margin: 0 -1.5em;
				text-align: center;
			}
			.col {
				padding: 0 1.5em;
				text-align: center;
			}
			.row:after {
				content: "";
				clear: both;
				display: table;
			}
			@media only screen {
				.col {
					float: left;
					width: 100%;
					box-sizing: border-box;
				}
			}
			.hidden {
				display: none;
			}
			.header_app {
				padding-bottom: 1em;
			}
			button {
				background-color: transparent;
				border: none;
				outline: none;
				font-weight: bold;
				text-align: center;
				text-decoration: none;
				vertical-align: middle;
			}
			button + button {
				padding-left: 0.65em;
			}
			button > svg {
				fill: #e1e1e1;
				width: 2em;
				height: 2em;
			}
			li > svg {
				fill: #e1e1e1;
				width: 1.5em;
				height: 1.5em;
			}
			#btn_playpause_svg {
				width: 3em;
				height: 3em;
			}
			.svg_active {
				fill: #ff4d00;
			}
			#message_status {
				font-weight: bold;
			}
			#message_error {
				font-weight: bold;
				color: #ff4d00;
			}
			.bar_frame {
				height: 2em;
				line-height: 2em;
			}
			.bar_progress {
				background-color: #ddd;
				width: 100%;
			}
			.bar_bufferred {
				background-color: #ffb74d;
				width: 0%;
			}
			.bar_played {
				background-color: #ff4d00;
				width: 0%;
			}
			#conlog {
				margin-left: 10%;
				margin-right: 10%;
				padding-left: 1em;
				padding-right: 1em;
				margin-top: 0.5em;
				padding-top: 0.25em;
				border: solid 3px #e1e1e1;
				max-width: 1920px;
				height: 200px;
				overflow-y: scroll;
				overflow-wrap: break-word;
				text-align: left;
				font-size: 0.75em;
			}
			.conlog_dts {
				text-decoration: underline;
				font-weight: bold;
			}
			p,
			ul > li,
			dd,
			dt {
				font-size: 0.8rem;
				line-height: 1.5;
			}
			h5 {
				margin-top: 4em;
				margin-bottom: 0em;
			}
			h5:before {
				content: "\0000bb";
				padding-right: 0.75rem;
				font-size: 1rem;
				line-height: 1.2rem;
			}
			a {
				color: #ff4d00;
				cursor: pointer;
				text-decoration: none;
			}
			a:visited {
				color: #ff4d00;
			}
			a:hover {
				color: #ff4d00;
			}
		</style>
		<script>
			// Setup Broadcast Channel
			const bc = new BroadcastChannel("dwpk_ytcp");
			bc.onmessage = function (event) {
				fn_bc_recv(event);
			};
			const debug_level = 1;

			// Our Variables
			var $ = document.querySelector.bind(document);
			var params = {
				ytid: "",
				cmd: "",
				optstr: "",
			};
			var state;
			var time_start;

			// Debugging Messages
			if (typeof console != "undefined") {
				if (typeof console.log != "undefined") {
					console.olog = console.log;
				} else {
					console.olog = function () {};
				}
			}
			console.log = function (message) {
				console.olog(message);
				time_elapsed = Date.now() - time_start;
				$("#conlog").innerHTML =
					'<p><span class="conlog_dts">' +
					new Date(time_elapsed).toISOString().substr(11, 12) +
					':</span><span class="conlog_msg"> ' +
					message +
					"</span></p>" +
					$("#conlog").innerHTML;
			};
			console.error = console.debug = console.info = console.log;
			function fn_toggle_conlog() {
				$("#conlog").classList.toggle("hidden");
				return;
			}
			function fn_toggle_instructions() {
				$("#instructions").classList.toggle("hidden");
				return;
			}

			// BC Related
			function fn_bc_recv(event) {
				var elapsed_ratio = 0.0;
				state = JSON.parse(event.data);
				if (1 < debug_level) {
					console.log("Message Received: " + JSON.stringify(state));
				}
				// Elapsed and Total Length String
				eta_str = "0:0:0&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;0:0:0";
				if (0 < state.time_elapsed) {
					eta_str = new Date(state.time_elapsed * 1000)
						.toISOString()
						.substr(11, 8);
				}
				if (0 < state.time_length) {
					if (0 < eta_str.length) {
						eta_str +=
							"&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;" +
							new Date(state.time_length * 1000)
								.toISOString()
								.substr(11, 8);
					}
					elapsed_ratio = state.time_elapsed / state.time_length;
					if (1 < elapsed_ratio) {
						elapsed_ratio = 1;
					}
				}
				$("#eta_str").innerHTML = eta_str;
				// Calculate Buffer and Elapsed Progress Bars
				if (0 < state.buffer_level) {
					buffer_pct =
						(state.buffer_level * 100).toPrecision(4) + "%";
					elapsed_bar =
						1 -
						(state.buffer_level - elapsed_ratio) /
							state.buffer_level; // Inverse % - as this is a % of a % (% of Buffer Bar)
				} else {
					buffer_pct = (elapsed_ratio * 100).toPrecision(4) + "%"; // Set Buffer % = Elapsed %
					elapsed_bar = 1;
				}
				elapsed_bar_pct = (elapsed_bar * 100).toPrecision(4) + "%";
				// Set Progress Bars
				if (0.25 > elapsed_ratio) {
					$("#progress").textContent = "";
				}
				if (0.25 <= elapsed_ratio) {
					$("#progress").textContent = "25%";
				}
				if (0.5 <= elapsed_ratio) {
					$("#progress").textContent = "50%";
				}
				if (0.75 <= elapsed_ratio) {
					$("#progress").textContent = "75%";
				}
				if (0.85 <= elapsed_ratio) {
					$("#progress").textContent = "85%";
				}
				if (0.9 <= elapsed_ratio) {
					$("#progress").textContent = "90%";
				}
				if (0.95 <= elapsed_ratio) {
					$("#progress").textContent = "95%";
				}
				if (1 <= elapsed_ratio) {
					$("#progress").textContent = "";
				}
				$("#bar_buffer").style.width = buffer_pct;
				$("#bar_elapsed").style.width = elapsed_bar_pct;
				// Set Status Messages
				if (1 > $("#ytid").value.length) {
					$("#ytid").value = state.ytid.trim();
				}
				if (0 < state.quality.length) {
					$("#quality").textContent = "Size: " + state.quality;
				} else {
					$("#quality").textContent = "Size: -";
				}
				if (0 < state.msg.length) {
					$("#message_status").textContent = state.msg;
				} else {
					$("#message_status").textContent = "";
				}
				if (0 < state.err.length) {
					$("#message_error").textContent = state.err;
				} else {
					$("#message_error").textContent = "";
				}
				if (0 < state.muted) {
					$("#btn_mute_svg").classList.add("svg_active");
				} else {
					$("#btn_mute_svg").classList.remove("svg_active");
				}
				if (0 < state.loop) {
					$("#btn_loop_svg").classList.add("svg_active");
				} else {
					$("#btn_loop_svg").classList.remove("svg_active");
				}
				if (2 == state.state_code) {
					$("#btn_playpause_svg").classList.add("svg_active");
				} else {
					$("#btn_playpause_svg").classList.remove("svg_active");
				}
				return;
			}
			function fn_bc_send(objbtn) {
				params.ytid = $("#ytid").value.trim();
				$("#ytid").value = params.ytid;
				params.cmd = objbtn.value;
				if (0 < params.ytid.length && 0 < params.cmd.length) {
					bc.postMessage(JSON.stringify(params));
					console.log("Message Sent: " + JSON.stringify(params));
				} else {
					console.log("Error: Invalid YouTube Video ID(s)");
					$("#message_error").textContent =
						"Please enter a valid YouTube Video ID(s)";
				}
				return;
			}

			// Page Setup
			function fn_page_ready() {
				$("#ytid").addEventListener("keyup", function (event) {
					if (event.keyCode === 13) {
						event.preventDefault();
						$("#btn_playpause").click();
						$("#btn_playpause").focus();
					}
				});
				$("#jump").addEventListener("keyup", function (event) {
					if (event.keyCode === 13) {
						event.preventDefault();
						jumpstr = $("#jump").value.trim();
						if (0 < jumpstr.length) {
							params.optstr = jumpstr;
							params.cmd = "jump";
							bc.postMessage(JSON.stringify(params));
						}
						$("#jump").value = "";
						$("#btn_playpause").focus();
					}
				});
				time_start = new Date();
				console.log("Controller Page Loaded");
				params.cmd = "poll";
				bc.postMessage(JSON.stringify(params));
				return;
			}
		</script>
		<div class="hidden">
			<svg>
				<symbol id="glyph_restart" viewBox="0 0 24 24">
					<path
						d="M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5z"
					/>
				</symbol>
				<symbol id="glyph_prev" viewBox="0 0 24 24">
					<path
						d="M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"
					/>
				</symbol>
				<symbol id="glyph_rew10" viewBox="0 0 24 24">
					<path
						d="M11.99 5V2.21c0-.45-.54-.67-.85-.35L7.35 5.65c-.2.2-.2.51 0 .71l3.79 3.79c.31.31.85.09.85-.35V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.06-.48-.48-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24.99-5.13-2.9-9.61-7.85-9.61zm-1.1 11h-.85v-3.26l-1.01.31v-.69l1.77-.63h.09V16zm4.28-1.76c0 .32-.03.6-.1.82s-.17.42-.29.57-.28.26-.45.33-.37.1-.59.1-.41-.03-.59-.1-.33-.18-.46-.33-.23-.34-.3-.57-.11-.5-.11-.82v-.74c0-.32.03-.6.1-.82s.17-.42.29-.57.28-.26.45-.33.37-.1.59-.1.41.03.59.1.33.18.46.33.23.34.3.57.11.5.11.82v.74zm-.85-.86c0-.19-.01-.35-.04-.48s-.07-.23-.12-.31-.11-.14-.19-.17-.16-.05-.25-.05-.18.02-.25.05-.14.09-.19.17-.09.18-.12.31-.04.29-.04.48v.97c0 .19.01.35.04.48s.07.24.12.32.11.14.19.17.16.05.25.05.18-.02.25-.05.14-.09.19-.17.09-.19.11-.32.04-.29.04-.48v-.97z"
					/>
				</symbol>
				<symbol id="glyph_fwd10" viewBox="0 0 24 24">
					<path
						d="M18.92 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.32 10.42 8.27 7 12 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71l-3.79-3.79c-.31-.31-.85-.09-.85.36V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-8.02 3v-4.27h-.09l-1.77.63v.69l1.01-.31V16zm3.42-4.22c-.18-.07-.37-.1-.59-.1s-.41.03-.59.1-.33.18-.45.33-.23.34-.29.57-.1.5-.1.82v.74c0 .32.04.6.11.82s.17.42.3.57.28.26.46.33.37.1.59.1.41-.03.59-.1.33-.18.45-.33.22-.34.29-.57.1-.5.1-.82v-.74c0-.32-.04-.6-.11-.82s-.17-.42-.3-.57-.29-.26-.46-.33zm.01 2.57c0 .19-.01.35-.04.48s-.06.24-.11.32-.11.14-.19.17-.16.05-.25.05-.18-.02-.25-.05-.14-.09-.19-.17-.09-.19-.12-.32-.04-.29-.04-.48v-.97c0-.19.01-.35.04-.48s.06-.23.12-.31.11-.14.19-.17.16-.05.25-.05.18.02.25.05.14.09.19.17.09.18.12.31.04.29.04.48v.97z"
					/>
				</symbol>
				<symbol id="glyph_next" viewBox="0 0 24 24">
					<path
						d="M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"
					/>
				</symbol>

				<symbol id="glyph_mute" viewBox="0 0 24 24">
					<path
						d="M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"
					/>
				</symbol>
				<symbol id="glyph_volume" viewBox="0 0 24 24">
					<path
						d="M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"
					/>
				</symbol>

				<symbol id="glyph_loop" viewBox="0 0 24 24">
					<path
						d="M12 4V2.21c0-.45-.54-.67-.85-.35l-2.8 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.32.31.86.09.86-.36V6c3.31 0 6 2.69 6 6 0 .79-.15 1.56-.44 2.25-.15.36-.04.77.23 1.04.51.51 1.37.33 1.64-.34.37-.91.57-1.91.57-2.95 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-.79.15-1.56.44-2.25.15-.36.04-.77-.23-1.04-.51-.51-1.37-.33-1.64.34C4.2 9.96 4 10.96 4 12c0 4.42 3.58 8 8 8v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V18z"
					/>
				</symbol>

				<symbol id="glyph_play" viewBox="0 0 24 24">
					<path
						d="M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"
					/>
				</symbol>
				<symbol id="glyph_pause" viewBox="0 0 24 24">
					<path
						d="M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"
					/>
				</symbol>

				<symbol id="glyph_playpause" viewBox="0 0 275.725 275.725">
					<path
						d="M137.862,0C61.726,0,0,61.726,0,137.862c0,76.14,61.726,137.862,137.862,137.862c76.139,0,137.862-61.723,137.862-137.862 C275.725,61.726,214.001,0,137.862,0z M125.639,148.395L75.67,177.051c-8.606,4.93-15.583,0.891-15.583-9.041v-57.115 c0-9.926,6.978-13.973,15.583-9.03l49.969,28.656C134.245,135.455,134.245,143.455,125.639,148.395z M161.371,166.694 c0,9.922-5.442,17.968-12.169,17.968c-6.722,0-12.171-8.046-12.171-17.968V112.21c0-9.921,5.449-17.971,12.171-17.971 c6.727,0,12.169,8.05,12.169,17.971V166.694z M211.878,166.694c0,9.922-5.447,17.968-12.174,17.968 c-6.726,0-12.174-8.046-12.174-17.968V112.21c0-9.921,5.448-17.971,12.174-17.971c6.727,0,12.174,8.05,12.174,17.971V166.694z"
					/>
				</symbol>

				<symbol id="glyph_youtube" viewBox="0 0 492 110">
					<path
						d="M154.3 17.5a19.6 19.6 0 0 0-13.8-13.8C128.4.4 79.7.4 79.7.4S31 .5 18.9 3.8A19.6 19.6 0 0 0 5.1 17.6C1.44 39.1.02 71.86 5.2 92.5A19.6 19.6 0 0 0 19 106.3c12.1 3.3 60.8 3.3 60.8 3.3s48.7 0 60.8-3.3a19.6 19.6 0 0 0 13.8-13.8c3.86-21.53 5.05-54.27-.1-75z"
						fill="red"
					/>
					<path fill="#fff" d="M64.2 78.4L104.6 55 64.2 31.6z" />
					<g fill="#E1E1E1">
						<path
							d="M227.9 99.7c-3.1-2.1-5.3-5.3-6.6-9.7s-1.9-10.2-1.9-17.5v-9.9c0-7.3.7-13.3 2.2-17.7 1.5-4.5 3.8-7.7 7-9.7s7.3-3.1 12.4-3.1c5 0 9.1 1 12.1 3.1s5.3 5.3 6.7 9.7 2.1 10.3 2.1 17.6v9.9c0 7.3-.7 13.1-2.1 17.5s-3.6 7.6-6.7 9.7c-3.1 2-7.3 3.1-12.5 3.1-5.4.1-9.6-1-12.7-3zM245.2 89c.9-2.2 1.3-5.9 1.3-10.9V56.8c0-4.9-.4-8.5-1.3-10.7-.9-2.3-2.4-3.4-4.5-3.4s-3.5 1.1-4.4 3.4-1.3 5.8-1.3 10.7v21.3c0 5 .4 8.7 1.2 10.9s2.3 3.3 4.5 3.3c2.1 0 3.6-1.1 4.5-3.3zm219.2-16.3v3.5l.4 9.9c.3 2.2.8 3.8 1.6 4.8s2.1 1.5 3.8 1.5c2.3 0 3.9-.9 4.7-2.7.9-1.8 1.3-4.8 1.4-8.9l13.3.8c.1.6.1 1.4.1 2.4 0 6.3-1.7 11-5.2 14.1s-8.3 4.7-14.6 4.7c-7.6 0-12.9-2.4-15.9-7.1s-4.6-12.1-4.6-22V61.6c.34-17 3.33-29.45 20.9-29.5 5.3 0 9.3 1 12.1 2.9s4.8 4.9 6 9 1.7 9.7 1.7 16.9v11.7h-25.7zm2-28.8c-.8 1-1.3 2.5-1.6 4.7s-.4 10-.4 10v4.9h11.2v-4.9c0 4.9-.1-7.7-.4-10s-.8-3.9-1.6-4.8-2-1.4-3.6-1.4c-1.7.1-2.9.6-3.6 1.5zM190.5 71.4L173 8.2h15.3s7.15 31.7 9.6 46.6h.4c2.78-15.82 9.8-46.6 9.8-46.6h15.3l-17.7 63.1v30.3h-15.1V71.4z"
						/>
						<path
							id="A"
							d="M311.5 33.4v68.3h-12l-1.3-8.4h-.3c-3.3 6.3-8.2 9.5-14.7 9.5-11.77-.03-13.08-10-13.2-18.4v-51h15.4v50.1c0 3 .3 5.2 1 6.5 1.42 2.78 5.1 2.07 7.1.7a8 8 0 0 0 2.7-3.1V33.4z"
							fill="#E1E1E1"
						/>
						<path
							d="M353.3 20.6H338v81.1h-15V20.6h-15.3V8.2h45.5v12.4zm87.9 23.7c-.9-4.3-2.4-7.4-4.5-9.4-2.1-1.9-4.9-2.9-8.6-2.9a14.1 14.1 0 0 0-7.9 2.4c-2.5 1.6-4.3 3.7-5.7 6.3h-.1v-36h-14.8v96.9h12.7l1.6-6.5h.3a14 14 0 0 0 5.3 5.5c2.4 1.3 5 2 7.9 2 5.2 0 9-2.4 11.5-7.2 2.4-4.8 3.7-12.3 3.7-22.4V62.2c0-7.6-.5-13.6-1.4-17.9zm-14.1 27.9c0 5-.2 8.9-.6 11.7s-1.1 4.8-2.1 6-2.3 1.8-3.9 1.8c-3.1-.1-4.86-1.5-6.1-3.6V49.3c.5-1.9 1.4-3.4 2.7-4.6 2.2-2.47 5.96-2.5 7.7 0 .9 1.2 1.4 3.3 1.8 6.2.3 2.9.5 7 .5 12.4z"
						/>
					</g>
					<use xlink:href="#A" x="78.9" />
				</symbol>
			</svg>
		</div>
		<div class="row header_app">
			<span style="margin-left: -6em"
				><svg
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					height="1.8em"
					fill="#E1E1E1"
				>
					<use href="#glyph_youtube" /></svg></span
			><span
				style="
					margin-left: -3.8em;
					vertical-align: top;
					line-height: 1.6em;
					font-size: 1.2em;
					border-bottom: solid 1px white;
				"
				>Controller</span
			>
		</div>
		<div class="row">
			<div class="col">
				<input
					id="ytid"
					placeholder="Input YouTube Video ID(s) here and press Play"
					size="45"
					autofocus="1"
				/>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button onclick="fn_bc_send(this)" value="restart">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_restart" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="prev">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Previous Video</title>
						<use href="#glyph_prev" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="rew10">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Rewind 10s</title>
						<use href="#glyph_rew10" />
					</svg>
				</button>
				<button
					onclick="fn_bc_send(this)"
					value="playpause"
					id="btn_playpause"
				>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						id="btn_playpause_svg"
					>
						<title>Play / Pause</title>
						<use href="#glyph_playpause" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="fwd10">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Forward 10s</title>
						<use href="#glyph_fwd10" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="next">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Next Video</title>
						<use href="#glyph_next" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="mute" id="btn_mute">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						id="btn_mute_svg"
					>
						<title>Mute</title>
						<use href="#glyph_mute" />
					</svg>
				</button>
				<button onclick="fn_bc_send(this)" value="loop" id="btn_loop">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						id="btn_loop_svg"
					>
						<title>Loop / Repeat</title>
						<use href="#glyph_loop" />
					</svg>
				</button>
			</div>
		</div>
		<div class="row">
			<div class="bar_frame bar_progress">
				<div class="bar_frame bar_bufferred" id="bar_buffer">
					<div class="bar_frame bar_played" id="bar_elapsed">
						<span
							id="progress"
							style="font-size: 0.8em; font-weight: bold"
						></span>
					</div>
				</div>
			</div>
		</div>
		<div
			class="row"
			style="text-align: right; padding-top: 0.8em; font-size: 0.75em"
		>
			<div
				class="col"
				style="max-width: 30%; text-align: left; padding: 0"
			>
				<span id="quality">Size: -</span>
			</div>
			<div class="col" style="max-width: 30%; padding: 0">
				<input id="jump" placeholder="mm:ss" size="3" />
			</div>
			<div
				class="col"
				style="max-width: 40%; text-align: right; padding: 0"
			>
				<span id="eta_str"
					>0:0:0&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;0:0:0</span
				>
			</div>
		</div>
		<div class="row">
			<span id="message_status"></span>
		</div>
		<div class="row">
			<span id="message_error"></span>
		</div>
		<div class="row" style="font-size: 0.75em">
			<div
				class="col"
				style="text-align: left; width: 35%; padding-left: 0"
				onclick="fn_toggle_instructions()"
			>
				Click & Read This
			</div>
			<div class="col" style="text-align: center; width: 30%">
				<a href="player.html" target="_blank">YTCP Player</a>
			</div>
			<div
				class="col"
				style="text-align: right; width: 35%; padding-right: 0"
				onclick="fn_toggle_conlog()"
			>
				Toggle Debug
			</div>
		</div>
		<div class="row hidden" id="conlog"></div>
		<div class="row hidden" style="text-align: left" id="instructions">
			<hr />
			<span style="font-weight: bold">About YTCP</span>

			<p>This is the <u>YTCP (YouTube Control Panel)</u>.</p>
			<p>
				In short, it allows you to load YouTube in one browser window
				(the <u>Player</u>) and then control its playback/video/etc from
				a second browser window (the <u>Controller</u>). In addition,
				the Player will play the video in full screen mode
				automatically, and not in a small window. Here are two simple
				use cases:
			</p>
			<ul>
				<li>
					<u>Dual-screen:</u> Open the Player in one browser window on
					Screen 1, facing the audience, and then open the Controller
					on Screen 2 where the video can be easily controlled by the
					operator. This is also true for dual screens when you
					connect from a laptop to a projector. This is kind of like
					asking PowerPoint to show the slideshow on another monitor,
					but you know, with YouTube.
				</li>
				<li>
					<u>Embedded players:</u> Some systems such as
					<a href="https://obsproject.com/">OBS</a> have built-in
					browsers to display web pages. However it is usually
					distracting and difficult to control (especially video
					playback) in the browser being recorded/streamed. By having
					a dedicated control panel, we do not need to touch the
					output browser during the recording/streaming session.
				</li>
			</ul>

			<hr style="margin-top: 4em" />
			<span style="font-weight: bold">How To Use</span>

			<h5 style="margin-top: 1em">
				Step 1: Open the Player in a new Window/Tab/Streaming Source
			</h5>
			<p><u>For a normal web browser</u>:</p>
			<ul>
				<li>
					Open a new browser window and go to this URL:
					<a
						href="https://starfishpatkhoo.github.io/ytcp/player.html"
						target="_blank"
						>https://starfishpatkhoo.github.io/ytcp/player.html</a
					>
				</li>
				<li>
					Put this browser window on a different screen or monitor
				</li>
			</ul>
			<p>
				The Player window is optimised for 1920 x 1080 displays. If you
				can see the borders without any scroll bars, you're good.
			</p>
			<p><u>For an OBS Source</u>:</p>
			<ul>
				<li>Create a new source &raquo; <u>Browser</u></li>
				<li>Call it <u>YTCP Player</u> (or whatever you like)</li>
				<li>
					In the properties:
					<ul>
						<li>
							URL:
							<a
								href="https://starfishpatkhoo.github.io/ytcp/player.html"
								target="_blank"
								>https://starfishpatkhoo.github.io/ytcp/player.html</a
							>
						</li>
						<li>Width: <u>1920</u></li>
						<li>Height: <u>1080</u></li>
						<li>Use Custom Frame Rate: <u>No</u></li>
						<li>Control Audio from OBS: <u>Yes</u></li>
						<li>Shutdown Source When Not Visible: <u>No</u></li>
						<li>
							Refresh Browser When Scene Becomes Active: <u>No</u>
						</li>
					</ul>
				</li>
			</ul>

			<h5>Step 2: Choose Player options</h5>
			<ul>
				<li>
					In OBS, right click on the source you just created and
					select <u>Interact</u>.
				</li>
				<li>Choose Player options:</li>
				<dl>
					<dt>Captions:</dt>
					<dd>
						Choose <u>None</u> for no captions, or one of the
						languages. If no such language/caption exists for that
						video, no captions will be shown.
					</dd>
					<dt>Annotations:</dt>
					<dd>Check if Annotations should be displayed or not.</dd>
				</dl>
				<li>Click <u>Load Player</u></li>
			</ul>

			<h5>Step 3: Open the Controller in a new Window/Tab/Dock Panel</h5>
			<p><u>For a normal web browser</u>:</p>
			<ul>
				<li>
					Open a new browser window and go to this URL:
					<a
						href="https://starfishpatkhoo.github.io/ytcp/controller.html"
						target="_blank"
						>https://starfishpatkhoo.github.io/ytcp/controller.html</a
					>
				</li>
				<li>Leave this browser window on your main "control" screen</li>
			</ul>
			<p><u>For OBS</u>:</p>
			<ul>
				<li>
					Go to <u>View</u> &raquo; <u>Docks</u> &raquo;
					<u>Custom Browser Docks</u>
				</li>
				<li>
					In the list:
					<ul>
						<li>
							Dock Name: <u>YouTube Control Panel</u> (or whatever
							you like)
						</li>
						<li>
							URL:
							<a
								href="https://starfishpatkhoo.github.io/ytcp/controller.html"
								target="_blank"
								>https://starfishpatkhoo.github.io/ytcp/controller.html</a
							>
						</li>
					</ul>
				</li>

				<li>Click <u>Close</u></li>
				<li>
					A new OBS Panel will appear and you can dock it somewhere if
					you like.
				</li>
			</ul>

			<h5>
				Step 4: Key in one or more YouTube Video ID(s) in the Controller
			</h5>
			<p>
				Enter a single YouTube Video ID, or multiple IDs separated by
				commas. Here are some examples:
			</p>
			<ul>
				<li>dQw4w9WgXcQ</li>
				<li>3IEp9Gj86Tc</li>
				<li>0tCsJ-SgIEE, 3IEp9Gj86Tc</li>
			</ul>

			<h5>Step 5: Press <u>Play</u> in Controller</h5>

			<h5>Step 6: Monitor and Control playback in Controller</h5>
			<ul>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_restart" />
					</svg>
					Restart current Video from the begining
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_prev" />
					</svg>
					Previous Video (Only works if more than one Video ID was
					specified)
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_rew10" />
					</svg>
					Go back 10 seconds
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_playpause" />
					</svg>
					Play / Pause
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_fwd10" />
					</svg>
					Go forward 10 seconds
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_next" />
					</svg>
					Next Video (Only works if more than one Video ID was
					specified)
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_mute" />
					</svg>
					Mute / Unmute Video
				</li>
				<li>
					<svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
					>
						<title>Restart Video</title>
						<use href="#glyph_loop" />
					</svg>
					Loop / Unloop Video when it ends
				</li>
				<li>
					Jump to specified point in Video by keying in the time in
					minutes and seconds and pressing ENTER. For example, you can
					type "5:10" or "3.45" or "30" for 5 minutes 10 seconds, 3
					minutes 45 seconds and 30 seconds respectively.
				</li>
				<li>
					Size refers to playback quality size as reported by YouTube.
					Examples include "1080" or "720".
				</li>
				<li>
					Display timer shows elapsed time followed by total video
					length. If this is a live stream, then video length refers
					to the duration since the live stream started.
				</li>
				<li>
					Progress bars display the current position of the video
					playback in orange, and the buffered position in light
					orange. When the video has played past key points (25%, 50%,
					75%, etc), the percentage will be displayed inside the
					progress bar.
				</li>
				<li>
					Toggling the debug will display debugging messages,
					especially for embeded browsers that do not have easy access
					to the console.
				</li>
			</ul>

			<hr style="margin-top: 4em" />
			<span style="font-weight: bold">Frequently Asked Questions</span>

			<h5 style="margin-top: 1em">Why can't XYZ video play?</h5>
			<p>
				Make sure the video allows embedded playback and you are allowed
				to view it. If it is a private video that you have access to,
				you will need to log into YouTube on your browser first.
			</p>

			<h5>Can I reload/refresh the browser/source?</h5>
			<p>
				You can reload the Controller while a video is playing in the
				Player and it will pick up where it left off. But if you reload
				the Player (OBS Source), then you will need to click on
				<u>Load Player</u> in the Player and click on <u>Play</u> in the
				Controller again.
			</p>

			<h5>Can I switch videos in the middle?</h5>
			<p>
				Yes. If a video is currently playing, just key in the new Video
				ID into the controller and press Play. The old video will stop
				and the new one will start playing right away.
			</p>

			<h5>
				If I switch to a different scene in OBS, what happens to the
				video when I switch back?
			</h5>
			<p>
				If you had set <u>Shutdown Source When Not Visible</u> and
				<u>Refresh Browser When Scene Becomes Active</u> to <u>No</u>,
				then when you switch away, the YouTube video will pause and no
				audio will be heard. When you switch back, the video will
				continue playing where you left off. If you set either one to
				<u>Yes</u>, then the Player will reload/refresh and you will
				have to click on <u>Load Player</u> in the Player and click on
				<u>Play</u> in the Controller again.
			</p>

			<h5>
				Can I open the Player and Controller on two different
				computers/devices, like my PC and my smartphone?
			</h5>
			<p>
				No, you cannot. This is because the communication system between
				the Player and the Controller only works if they are both on the
				same browser on the same machine. So opening the Player in Edge
				and the Controller in Chrome on the same computer is not going
				to work either.
			</p>

			<h5>Can someone else control my Player?</h5>
			<p>
				No, they cannot. For the same reason why remote control from a
				different device won't work (as explained in the previous
				question), no one can control your Player instance with another
				browser window of the Controller. Unless of course, they've
				already hacked your computer.
			</p>

			<h5>Why is the text in the Player so big?</h5>
			<p>
				In embedded players such as OBS, the screen size in the
				preview/interact/source/monitor is small(er) than 1080, so
				making the fonts and buttons bigger will make it more visible
				and easy to click on.
			</p>

			<h5>Are you tracking our Video IDs?</h5>
			<p>
				I do not track or record anything that is generated by this
				script. If you want to be reassured, feel free to open the link
				to the Player and Controller and "View Source".
			</p>

			<h5>Is Google/YouTube tracking our Video IDs?</h5>
			<p>
				Most definitely, absolutely, totally, 100% of course not! That's
				just, like, fake news, you know? Emperor Palpatine told me and I
				believe him.
			</p>

			<h5>Is this website/service free for me to use?</h5>
			<p>Yes. As long as hosting and bandwidth is free to me.</p>

			<h5>
				Does playing videos through the YTCP count towards a video's
				view count?
			</h5>
			<p>
				No, it doesn't. YouTube policy states that playback through
				embedded players do not count towards a video's view count.
			</p>

			<h5>
				Can I download this script and run it from my local computer?
			</h5>
			<p>
				Yes (mostly). In fact these two web pages are purposefully
				written as single self-contained pages with no external
				CSS/JS/images. So it is easy to just save it and open it in your
				browser locally. However, in many clients (such as the OBS
				built-in browser) and videos (such as dQw4w9WgXcQ) there are
				security restrictions imposed by the YouTube player that will
				prevent it from being loaded or the video from being played.
				From my investigations, the YouTube player will not load
				successfully from a local file when loaded in OBS (but works in
				Chrome desktop browser). Secondly, some vidoes are blocked from
				playing when the source of the embedding is not a domain.
				C:\player.html, http://127.0.0.1/player.html will
				<b>not</b> work. Only http://localhost/player.html will work.
				So, it's just easier to load the URL listed above. Besides, if
				you use this URL, you will always be using the updated version
				of this script.
			</p>

			<hr style="margin-top: 4em" />
			<p>
				Version: 1.0-20200915&nbsp;&nbsp;/&nbsp;&nbsp;Copyright &copy;
				2020 Patrick Khoo&nbsp;&nbsp;/&nbsp;&nbsp;patrick |at|
				deepwave.net
			</p>
		</div>
		<script>
			fn_page_ready();
		</script>
	</body>
</html>
